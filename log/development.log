  [1m[35m (225.1ms)[0m  [1m[35mCREATE DATABASE "ruby_test_1_development" ENCODING = 'unicode'[0m
  [1m[35m (106.3ms)[0m  [1m[35mCREATE DATABASE "ruby_test_1_test" ENCODING = 'unicode'[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7899280671634751490)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20220712134843)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220712134843"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateArchives (20220712135201)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "archives" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220712135201"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-12 16:56:47.625156"], ["updated_at", "2022-07-12 16:56:47.625156"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7899280671634751490)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-12 14:03:45 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1516)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/matheus/ruby-test-1/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: a3f4fd97d0643382e416
Version: webpack 4.46.0
Time: 1234ms
Built at: 07/12/2022 2:03:47 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-cb4090bec20e9706a7db.js    120 KiB  application  [emitted] [immutable]  application
js/application-cb4090bec20e9706a7db.js.map    136 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-cb4090bec20e9706a7db.js js/application-cb4090bec20e9706a7db.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 2327ms (Views: 2315.3ms | ActiveRecord: 1.3ms | Allocations: 30682)


Started GET "/archives/new" for ::1 at 2022-07-12 14:03:49 -0300
Processing by ArchivesController#new as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 2923)


  
NameError (uninitialized constant ArchivesController::Bucket):
  
app/controllers/archives_controller.rb:15:in `new'
Started GET "/" for ::1 at 2022-07-12 14:04:26 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 927)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 1.1ms | Allocations: 6617)


Started GET "/" for ::1 at 2022-07-12 14:04:27 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 684)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.4ms | Allocations: 4670)


Started GET "/archives/new" for ::1 at 2022-07-12 14:04:28 -0300
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 9.0ms | Allocations: 4126)
  Rendered archives/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 4467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.2ms | ActiveRecord: 3.1ms | Allocations: 10665)


Started POST "/archives" for ::1 at 2022-07-12 14:04:32 -0300
Processing by ArchivesController#create as HTML
  Parameters: {"authenticity_token"=>"KFLLJ948biMFVco6yEgpo43x7O53f28JKAUwTtagpCne7LT5OjOwpY75rwOX9gY1+p9ZZdOr9EobNvNqNtjydQ==", "archive"=>{"name"=>"teste"}, "commit"=>"Create Archive"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[36mArchive Create (0.5ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "teste"], ["created_at", "2022-07-12 17:04:32.143027"], ["updated_at", "2022-07-12 17:04:32.143027"]]
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/archives/1
Completed 302 Found in 5ms (ActiveRecord: 1.7ms | Allocations: 3745)


Started GET "/archives/1" for ::1 at 2022-07-12 14:04:32 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  Rendered archives/show.html.erb within layouts/application (Duration: 78.0ms | Allocations: 65272)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 0.5ms | Allocations: 67346)


  
ActionView::Template::Error (undefined method `new_archive_file_uploads_path' for #<#<Class:0x00007fafe403bba0>:0x00007fb0188e1618>
Did you mean?  new_archive_file_upload_path
               new_archive_file_upload_url):
    4:  
    5: <%= link_to 'Edit', edit_archive_path(@archive) %> |
    6: <%= link_to 'Back', archives_path %> |
    7: <%= link_to 'Upload Files', new_archive_file_uploads_path(@archive) %>
    8:  
    9:  
   10: <h5>Files</h5>
  
app/views/archives/show.html.erb:7
Started GET "/archives/1" for ::1 at 2022-07-12 14:04:50 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  Rendered archives/show.html.erb within layouts/application (Duration: 24.3ms | Allocations: 7553)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 2.2ms | Allocations: 12939)


Started GET "/archives" for ::1 at 2022-07-12 14:04:53 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (1.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1078)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 1.5ms | Allocations: 5199)


Started GET "/archives/1" for ::1 at 2022-07-12 14:04:54 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArchive Load (1.1ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  Rendered archives/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 1.9ms | Allocations: 5755)


Started GET "/archives" for ::1 at 2022-07-12 14:04:55 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 841)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.5ms | Allocations: 4820)


Started GET "/archives" for ::1 at 2022-07-12 14:07:18 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3715)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 12.5ms | ActiveRecord: 3.0ms | Allocations: 14607)


Started GET "/archives/new" for ::1 at 2022-07-12 14:07:18 -0300
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 4.5ms | Allocations: 2513)
  Rendered archives/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2856)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 6996)


Started GET "/archives/new" for ::1 at 2022-07-12 14:09:41 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 175.4ms | Allocations: 126731)
  Rendered archives/new.html.erb within layouts/application (Duration: 176.1ms | Allocations: 127159)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 2.9ms | Allocations: 134658)


  
ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x000055cc43df8cd8>:0x000055cc43de2910>):
    17:   </div>
    18: 
    19:   <div class="field">
    20:     <%= f.file_field :files, multiple: true %><br /><br />
    21:   </div>
    22: 
    23:   <div class="actions">
  
app/views/archives/_form.html.erb:20
app/views/archives/_form.html.erb:1
app/views/archives/new.html.erb:3
Started GET "/archives/new" for ::1 at 2022-07-12 14:09:48 -0300
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 3.1ms | Allocations: 1174)
  Rendered archives/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.0ms | Allocations: 8948)


Started POST "/archives" for ::1 at 2022-07-12 14:10:13 -0300
Processing by ArchivesController#create as HTML
  Parameters: {"authenticity_token"=>"tshgCn/FCmIM1mvAkzA8A5dsy1Kge5Ful2hzyNmb5HuYAbs7qsbZtKwugdjjVMrSaA8zVlYel/Bu0tmAHdjyjA==", "archive"=>{"name"=>"fsdfsdf", "files"=>[#<ActionDispatch::Http::UploadedFile:0x00007fbb7d593130 @tempfile=#<Tempfile:/tmp/RackMultipart20220712-97046-1mbrfqo.pdf>, @original_filename="Certificado.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"archive[files][]\"; filename=\"Certificado.pdf\"\r\nContent-Type: application/pdf\r\n">]}, "commit"=>"Create Archive"}
[31mUnpermitted parameter: :files[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[36mArchive Create (0.8ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fsdfsdf"], ["created_at", "2022-07-12 17:10:13.970678"], ["updated_at", "2022-07-12 17:10:13.970678"]]
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/archives/2
Completed 302 Found in 9ms (ActiveRecord: 2.3ms | Allocations: 3790)


Started GET "/archives/2" for ::1 at 2022-07-12 14:10:13 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  Rendered archives/show.html.erb within layouts/application (Duration: 11.6ms | Allocations: 5058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 2.4ms | Allocations: 10137)


Started GET "/archives" for ::1 at 2022-07-12 14:10:15 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1253)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 5383)


Started GET "/archives" for ::1 at 2022-07-12 14:10:42 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3239)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 2.7ms | Allocations: 8832)


Started GET "/archives/new" for ::1 at 2022-07-12 14:10:43 -0300
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 1.8ms | Allocations: 721)
  Rendered archives/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 813)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 4797)


Started POST "/archives" for ::1 at 2022-07-12 14:10:47 -0300
Processing by ArchivesController#create as HTML
  Parameters: {"authenticity_token"=>"wfXMk4+Wgx1sMpccoBGH71oj+reRFSF86QyADiupt0Y3S7NNa5ldm+ee8iX/r6h5LU1PPDXBuj/aP0Mqy9HhGg==", "archive"=>{"name"=>"dqwdqwd", "files"=>[#<ActionDispatch::Http::UploadedFile:0x00007fbb7d4cb388 @tempfile=#<Tempfile:/tmp/RackMultipart20220712-97046-xk62c4.pdf>, @original_filename="Certificado.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"archive[files][]\"; filename=\"Certificado.pdf\"\r\nContent-Type: application/pdf\r\n">]}, "commit"=>"Create Archive"}
[31mUnpermitted parameter: :files[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[36mArchive Create (0.7ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "dqwdqwd"], ["created_at", "2022-07-12 17:10:47.204335"], ["updated_at", "2022-07-12 17:10:47.204335"]]
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/archives/3
Completed 302 Found in 11ms (ActiveRecord: 2.3ms | Allocations: 3554)


Started GET "/archives/3" for ::1 at 2022-07-12 14:10:47 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArchive Load (0.6ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  Rendered archives/show.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 19.8ms | ActiveRecord: 2.2ms | Allocations: 9296)


Started GET "/archives/3/file_uploads/new" for ::1 at 2022-07-12 14:11:11 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FileUploadsController#new as HTML
  Parameters: {"archive_id"=>"3"}
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/file_uploads_controller.rb:3:in `new'
  Rendering file_uploads/new.html.erb within layouts/application
  Rendered file_uploads/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 891)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 8.5ms | ActiveRecord: 3.1ms | Allocations: 15124)


Started POST "/archives/3/file_uploads" for ::1 at 2022-07-12 14:11:18 -0300
Processing by FileUploadsController#create as HTML
  Parameters: {"authenticity_token"=>"EI/t96DFDsYZjnL3d35Ercqt9KFB5uvs79WtSWW6ZWSW9p04+GxLdyBy5a5fnhl2Tj8C3pJyU3LmizoRSLTxyw==", "archive"=>{"files"=>[#<ActionDispatch::Http::UploadedFile:0x000055b68dcb8e48 @tempfile=#<Tempfile:/tmp/RackMultipart20220712-97350-1vrrd1h.pdf>, @original_filename="Certificado.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"archive[files][]\"; filename=\"Certificado.pdf\"\r\nContent-Type: application/pdf\r\n">]}, "commit"=>"Upload", "archive_id"=>"3"}
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/file_uploads_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xwfcximuqqebqlks6lfaw6qxz5rg"], ["filename", "Certificado.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 598952], ["checksum", "MQ+Jo/vzfHGNfRzO8zrw7Q=="], ["created_at", "2022-07-12 17:11:18.599819"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "files"], ["record_type", "Archive"], ["record_id", 3], ["blob_id", 1], ["created_at", "2022-07-12 17:11:18.601984"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mArchive Update (0.3ms)[0m  [1m[33mUPDATE "archives" SET "updated_at" = $1 WHERE "archives"."id" = $2[0m  [["updated_at", "2022-07-12 17:11:18.604514"], ["id", 3]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
[36m  Disk Storage (1.9ms) [0m[32mUploaded file to key: xwfcximuqqebqlks6lfaw6qxz5rg (checksum: MQ+Jo/vzfHGNfRzO8zrw7Q==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 72ededd0-84f5-4b9e-ae88-41f1f81fce3c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055b68c67d430 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/archives/3
Completed 302 Found in 104ms (ActiveRecord: 10.3ms | Allocations: 42202)


Started GET "/archives/3" for ::1 at 2022-07-12 14:11:18 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/archives/show.html.erb:16
  Rendered archives/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3262)
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [72ededd0-84f5-4b9e-ae88-41f1f81fce3c] Performing ActiveStorage::AnalyzeJob (Job ID: 72ededd0-84f5-4b9e-ae88-41f1f81fce3c) from Async(active_storage_analysis) enqueued at 2022-07-12T17:11:18Z with arguments: #<GlobalID:0x000055b68dbaf290 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [72ededd0-84f5-4b9e-ae88-41f1f81fce3c]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.7ms | Allocations: 13672)


[ActiveJob] [ActiveStorage::AnalyzeJob] [72ededd0-84f5-4b9e-ae88-41f1f81fce3c]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [72ededd0-84f5-4b9e-ae88-41f1f81fce3c]   [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72ededd0-84f5-4b9e-ae88-41f1f81fce3c] Performed ActiveStorage::AnalyzeJob (Job ID: 72ededd0-84f5-4b9e-ae88-41f1f81fce3c) from Async(active_storage_analysis) in 8.48ms
Started GET "/archives" for ::1 at 2022-07-12 14:11:22 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (1.2ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1450)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 1.2ms | Allocations: 5578)


Started GET "/archives/3" for ::1 at 2022-07-12 14:11:25 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/archives/show.html.erb:16
  Rendered archives/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 1.6ms | Allocations: 6849)


Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--876c674eea689561e6f9e1ce6528d64278d1455d/Certificado.pdf" for ::1 at 2022-07-12 14:11:26 -0300
Processing by ActiveStorage::BlobsController#show as PDF
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--876c674eea689561e6f9e1ce6528d64278d1455d", "filename"=>"Certificado"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: xwfcximuqqebqlks6lfaw6qxz5rg (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhlSGRtWTNocGJYVnhjV1ZpY1d4cmN6WnNabUYzTm5GNGVqVnlad1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpU1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtObGNuUnBabWxqWVdSdkxuQmtaaUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuUTJWeWRHbG1hV05oWkc4dWNHUm1CanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lVWVhCd2JHbGpZWFJwYjI0dmNHUm1CanNHVkE9PSIsImV4cCI6IjIwMjItMDctMTJUMTc6MTY6MjYuNDQxWiIsInB1ciI6ImJsb2Jfa2V5In19--41dcccd83fd33b27ee24e9d8874b3e7e2d1fe72a/Certificado.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22Certificado.pdf%22%3B+filename%2A%3DUTF-8%27%27Certificado.pdf)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhlSGRtWTNocGJYVnhjV1ZpY1d4cmN6WnNabUYzTm5GNGVqVnlad1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpU1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtObGNuUnBabWxqWVdSdkxuQmtaaUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuUTJWeWRHbG1hV05oWkc4dWNHUm1CanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lVWVhCd2JHbGpZWFJwYjI0dmNHUm1CanNHVkE9PSIsImV4cCI6IjIwMjItMDctMTJUMTc6MTY6MjYuNDQxWiIsInB1ciI6ImJsb2Jfa2V5In19--41dcccd83fd33b27ee24e9d8874b3e7e2d1fe72a/Certificado.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22Certificado.pdf%22%3B+filename%2A%3DUTF-8%27%27Certificado.pdf
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 2749)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhlSGRtWTNocGJYVnhjV1ZpY1d4cmN6WnNabUYzTm5GNGVqVnlad1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpU1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtObGNuUnBabWxqWVdSdkxuQmtaaUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuUTJWeWRHbG1hV05oWkc4dWNHUm1CanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lVWVhCd2JHbGpZWFJwYjI0dmNHUm1CanNHVkE9PSIsImV4cCI6IjIwMjItMDctMTJUMTc6MTY6MjYuNDQxWiIsInB1ciI6ImJsb2Jfa2V5In19--41dcccd83fd33b27ee24e9d8874b3e7e2d1fe72a/Certificado.pdf?content_type=application%2Fpdf&disposition=inline%3B+filename%3D%22Certificado.pdf%22%3B+filename%2A%3DUTF-8%27%27Certificado.pdf" for ::1 at 2022-07-12 14:11:26 -0300
Processing by ActiveStorage::DiskController#show as PDF
  Parameters: {"content_type"=>"application/pdf", "disposition"=>"inline; filename=\"Certificado.pdf\"; filename*=UTF-8''Certificado.pdf", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWhlSGRtWTNocGJYVnhjV1ZpY1d4cmN6WnNabUYzTm5GNGVqVnlad1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpU1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SWtObGNuUnBabWxqWVdSdkxuQmtaaUk3SUdacGJHVnVZVzFsS2oxVlZFWXRPQ2NuUTJWeWRHbG1hV05oWkc4dWNHUm1CanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lVWVhCd2JHbGpZWFJwYjI0dmNHUm1CanNHVkE9PSIsImV4cCI6IjIwMjItMDctMTJUMTc6MTY6MjYuNDQxWiIsInB1ciI6ImJsb2Jfa2V5In19--41dcccd83fd33b27ee24e9d8874b3e7e2d1fe72a", "filename"=>"Certificado"}
Completed 200 OK in 12ms (ActiveRecord: 0.0ms | Allocations: 3222)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7899280671634751490)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAncestryToArchive (20220712171248)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "archives" ADD "ancestry" character varying[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE  INDEX  "index_archives_on_ancestry" ON "archives"  ("ancestry")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220712171248"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7899280671634751490)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7899280671634751490)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7899280671634751490)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/archives/" for ::1 at 2022-07-12 14:14:03 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4604)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 13.4ms | ActiveRecord: 3.1ms | Allocations: 16176)


Started GET "/archives/new" for ::1 at 2022-07-12 14:14:04 -0300
Processing by ArchivesController#new as HTML
  Rendering archives/new.html.erb within layouts/application
  Rendered archives/_form.html.erb (Duration: 9.9ms | Allocations: 2711)
  Rendered archives/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3054)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 7193)


Started POST "/archives" for ::1 at 2022-07-12 14:14:07 -0300
Processing by ArchivesController#create as HTML
  Parameters: {"authenticity_token"=>"+YpPXsA0zyJYAS4ZwipM/mTHVqESc0aa+rtzwMjDWt0PNDCAJDsRpNOtSyCdlGNoE6njKran3dnJiLDkKLsMgQ==", "archive"=>{"name"=>"tffff"}, "commit"=>"Create Archive"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[36mArchive Create (0.8ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "tffff"], ["created_at", "2022-07-12 17:14:07.709890"], ["updated_at", "2022-07-12 17:14:07.709890"]]
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/archives/4
Completed 302 Found in 10ms (ActiveRecord: 2.4ms | Allocations: 3836)


Started GET "/archives/4" for ::1 at 2022-07-12 14:14:07 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  Rendered archives/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4995)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 2.1ms | Allocations: 10017)


Started GET "/archives/4/file_uploads/new" for ::1 at 2022-07-12 14:14:11 -0300
Processing by FileUploadsController#new as HTML
  Parameters: {"archive_id"=>"4"}
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/file_uploads_controller.rb:3:in `new'
  Rendering file_uploads/new.html.erb within layouts/application
  Rendered file_uploads/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 553)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.5ms | Allocations: 5702)


Started POST "/archives/4/file_uploads" for ::1 at 2022-07-12 14:14:14 -0300
Processing by FileUploadsController#create as HTML
  Parameters: {"authenticity_token"=>"5QCwXDq1hE8c/yFkH6lcRF1uRhFo6jNM9Sh7IoySYHrEQH0sYuax+8Ol4w9xdVP6uCaMMiRLq9XXdtryIuQBqQ==", "archive"=>{"files"=>[#<ActionDispatch::Http::UploadedFile:0x0000563b1ac75028 @tempfile=#<Tempfile:/tmp/RackMultipart20220712-98003-1k6w7dg.pdf>, @original_filename="Certificado.pdf", @content_type="application/pdf", @headers="Content-Disposition: form-data; name=\"archive[files][]\"; filename=\"Certificado.pdf\"\r\nContent-Type: application/pdf\r\n">]}, "commit"=>"Upload", "archive_id"=>"4"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/file_uploads_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "qqqmd07l1wg6vltmbfk0mr02tuz3"], ["filename", "Certificado.pdf"], ["content_type", "application/pdf"], ["metadata", "{\"identified\":true}"], ["byte_size", 598952], ["checksum", "MQ+Jo/vzfHGNfRzO8zrw7Q=="], ["created_at", "2022-07-12 17:14:14.494340"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "files"], ["record_type", "Archive"], ["record_id", 4], ["blob_id", 2], ["created_at", "2022-07-12 17:14:14.497254"]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[36mArchive Update (0.3ms)[0m  [1m[33mUPDATE "archives" SET "updated_at" = $1 WHERE "archives"."id" = $2[0m  [["updated_at", "2022-07-12 17:14:14.500028"], ["id", 4]]
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/file_uploads_controller.rb:8:in `create'
[36m  Disk Storage (2.2ms) [0m[32mUploaded file to key: qqqmd07l1wg6vltmbfk0mr02tuz3 (checksum: MQ+Jo/vzfHGNfRzO8zrw7Q==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1f1baa48-d31b-4bd4-bc30-0412fa63c204) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000563b1ae74a40 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/2>>
Redirected to http://localhost:3000/archives/4
Completed 302 Found in 79ms (ActiveRecord: 11.1ms | Allocations: 31788)


Started GET "/archives/4" for ::1 at 2022-07-12 14:14:14 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/archives/show.html.erb:16
  Rendered archives/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3053)
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f1baa48-d31b-4bd4-bc30-0412fa63c204] Performing ActiveStorage::AnalyzeJob (Job ID: 1f1baa48-d31b-4bd4-bc30-0412fa63c204) from Async(active_storage_analysis) enqueued at 2022-07-12T17:14:14Z with arguments: #<GlobalID:0x0000563b1b92f958 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f1baa48-d31b-4bd4-bc30-0412fa63c204]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f1baa48-d31b-4bd4-bc30-0412fa63c204]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 31.6ms | ActiveRecord: 1.5ms | Allocations: 12924)


[ActiveJob] [ActiveStorage::AnalyzeJob] [1f1baa48-d31b-4bd4-bc30-0412fa63c204]   [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f1baa48-d31b-4bd4-bc30-0412fa63c204] Performed ActiveStorage::AnalyzeJob (Job ID: 1f1baa48-d31b-4bd4-bc30-0412fa63c204) from Async(active_storage_analysis) in 12.96ms
Started GET "/archives" for ::1 at 2022-07-12 14:14:16 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.9ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1356)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.0ms | ActiveRecord: 0.9ms | Allocations: 5348)


Started DELETE "/archives/1" for ::1 at 2022-07-12 14:14:21 -0300
Processing by ArchivesController#destroy as HTML
  Parameters: {"authenticity_token"=>"p9lk09adAlkeW6SsIiVDJDszVk38U+UaEPACRQLmEe2JEL/iA57Rj76jTrRSQbX1xFCuSQo244TpSqgNxqUHGg==", "id"=>"1"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Load (0.6ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '1/%' OR "archives"."ancestry" = '1')[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Destroy (0.5ms)[0m  [1m[31mDELETE FROM "archives" WHERE "archives"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/archives
Completed 302 Found in 39ms (ActiveRecord: 4.7ms | Allocations: 5720)


Started GET "/archives" for ::1 at 2022-07-12 14:14:21 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1179)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 5206)


Started DELETE "/archives/2" for ::1 at 2022-07-12 14:14:23 -0300
Processing by ArchivesController#destroy as HTML
  Parameters: {"authenticity_token"=>"R+FHE/WDwYB6h28UYbTvPHXZ7/kYzh3oeMLlzgY+4FZpKJwiIIASVtp/hQwR0BntiroX/e6rG3aBeE+Gwn32oQ==", "id"=>"2"}
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '2/%' OR "archives"."ancestry" = '2')[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Destroy (0.4ms)[0m  [1m[31mDELETE FROM "archives" WHERE "archives"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/archives
Completed 302 Found in 14ms (ActiveRecord: 3.2ms | Allocations: 5620)


Started GET "/archives" for ::1 at 2022-07-12 14:14:23 -0300
Processing by ArchivesController#index as HTML
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1012)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms | Allocations: 5004)


Started DELETE "/archives/3" for ::1 at 2022-07-12 14:14:25 -0300
Processing by ArchivesController#destroy as HTML
  Parameters: {"authenticity_token"=>"YLimS01JyQSkTHqjMDFHq6xArFRx6FqV3zDuSLtozTlOcX16mEoa0gS0kLtAVbF6UyNUUIeNXAsmikQAfyvbzg==", "id"=>"3"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 3], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mActiveStorage::Attachment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '3/%' OR "archives"."ancestry" = '3')[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mArchive Destroy (0.4ms)[0m  [1m[31mDELETE FROM "archives" WHERE "archives"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:52:in `destroy'
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 978a847c-dc3c-401b-bddf-6eadfaf94c97) to Async(active_storage_purge) with arguments: #<GlobalID:0x00007f7acc0c1dd8 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/archives
Completed 302 Found in 19ms (ActiveRecord: 4.8ms | Allocations: 8128)


  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97] Performing ActiveStorage::PurgeJob (Job ID: 978a847c-dc3c-401b-bddf-6eadfaf94c97) from Async(active_storage_purge) enqueued at 2022-07-12T17:14:25Z with arguments: #<GlobalID:0x00007f7aa00899a0 @uri=#<URI::GID gid://ruby-test1/ActiveStorage::Blob/1>>
Started GET "/archives" for ::1 at 2022-07-12 14:14:25 -0300
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97]   [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
Processing by ArchivesController#index as HTML
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97]   [1m[36mActiveStorage::Attachment Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 1], ["LIMIT", 1]]
  Rendering archives/index.html.erb within layouts/application
  [1m[36mArchive Load (1.6ms)[0m  [1m[34mSELECT "archives".* FROM "archives"[0m
  â†³ app/views/archives/index.html.erb:14
  Rendered archives/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1963)
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97]   [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97]   [1m[36mActiveStorage::Blob Destroy (0.7ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97]   [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97] [36m  Disk Storage (0.5ms) [0m[31mDeleted file from key: xwfcximuqqebqlks6lfaw6qxz5rg[0m
[ActiveJob] [ActiveStorage::PurgeJob] [978a847c-dc3c-401b-bddf-6eadfaf94c97] Performed ActiveStorage::PurgeJob (Job ID: 978a847c-dc3c-401b-bddf-6eadfaf94c97) from Async(active_storage_purge) in 17.53ms
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 1.6ms | Allocations: 10411)


Started GET "/archives/4" for ::1 at 2022-07-12 14:14:27 -0300
Processing by ArchivesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/archives_controller.rb:63:in `set_archive'
  Rendering archives/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Archive"], ["name", "files"]]
  â†³ app/views/archives/show.html.erb:14
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/archives/show.html.erb:16
  Rendered archives/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.6ms | ActiveRecord: 1.4ms | Allocations: 6818)


  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArchive Create (11.7ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at", "ancestry") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "filho"], ["created_at", "2022-07-12 17:15:27.024711"], ["updated_at", "2022-07-12 17:15:27.024711"], ["ancestry", "4"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArchive Load (1.0ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE "archives"."ancestry" = '4' LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mArchive Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "archives" WHERE "archives"."ancestry" = '4' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArchive Load (0.7ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4')[0m
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "archives" WHERE ("archives"."ancestry" LIKE '4/5/%' OR "archives"."ancestry" = '4/5')[0m
  [1m[36mArchive Load (0.9ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4')[0m
  [1m[36mArchive Load (1.0ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArchive Create (0.5ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at", "ancestry") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "filho 2"], ["created_at", "2022-07-12 17:22:02.247776"], ["updated_at", "2022-07-12 17:22:02.247776"], ["ancestry", "4"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mArchive Load (0.3ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArchive Load (1.2ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArchive Create (1.4ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at", "ancestry") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "filho 3"], ["created_at", "2022-07-12 17:35:54.543510"], ["updated_at", "2022-07-12 17:35:54.543510"], ["ancestry", "4"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArchive Load (0.5ms)[0m  [1m[34mSELECT "archives".* FROM "archives" WHERE ("archives"."ancestry" LIKE '4/%' OR "archives"."ancestry" = '4') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArchive Create (0.7ms)[0m  [1m[32mINSERT INTO "archives" ("name", "created_at", "updated_at", "ancestry") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "filho 3"], ["created_at", "2022-07-12 17:53:12.234605"], ["updated_at", "2022-07-12 17:53:12.234605"], ["ancestry", "4"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArchive Load (0.4ms)[0m  [1m[34mSELECT "archives".* FROM "archives" ORDER BY "archives"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
